<div align="center">
<h1 align="center">
Auto-GongXueYun-TencentCloud
</h1>
<p align="center">
工学云自动打卡-腾讯云解决方案
</br>
解决了国内各大服务器ip被工学云封禁的问题
</br>
(此项目部署需要略微money，介意的请前往原项目使用)
</p>
<p align="center">
声明：本项目基于XuanRanDev作者的<a target="_blank" href="https://github.com/XuanRanDev/Auto-GongXueYun">Auto-GongXueYun</a>进行修改
</br>
支持多用户、自定义位置信息、腾讯云/阿里云部署、打卡位置浮动、自定义UA、QQ邮箱通知打卡结果
</br>
</br>
</p>
</div>
</br>


## 目录
- [使用方法](#使用方法)
  - [ip代理获取](#ip代理获取)
  - [腾讯云函数部署](#腾讯云函数部署)
- [修改自动打卡时间](#修改自动打卡时间)
- [常见问题](#常见问题)
  - [打卡失败](#打卡失败)
  - [上班及下班卡判断逻辑](#上班及下班卡判断逻辑)

</br>

</br></br>
### ip 代理获取


### 腾讯云函数部署

> tips: 百度云、阿里云函数方法基本类似 不在一一讲解

首先下载项目

**在项目目录中修改好user.json配置文件**

![](https://file.uhsea.com/2301/1087d34db474a3b99d01005e93333ba7D9.png)

配置文件含义如下：

| 参数名称       | 含义                                                         |
| -------------- | ------------------------------------------------------------ |
| enable         | 是否启用该用户的打卡（true或false)                           |
| phone          | 手机号                                                       |
| password       | 密码                                                         |
| randomLocation | 是否启用打卡位置浮动，启用后每次打卡会在原有位置基础上进行位置浮动 |
| user-agent     | 是否自定义UA，如果不需要自定义填null即可（字符串形式），否则填写你的UA |
| country        | 国家                                                         |
| province       | 省份                                                         |
| city           | 城市                                                         |
| area           | 区/县                                                        |
| desc           | 打卡备注                                                     |
| type           | android 或 ios                                               |
| address        | 详细地址，如果你打卡的时候中间带的有·这个符号你也就手动加上，这里填什么，打卡后工学云就会显示你填的内容（工学云默认·这个符号左右都会有一个空格） |
| longitude      | 打卡位置精度,通过坐标拾取来完成(仅需精确到小数点后6位)，[传送门](https://jingweidu.bmcx.com/) |
| latitude       | 打卡位置纬度,通过坐标拾取来完成(仅需精确到小数点后6位)，[传送门](https://jingweidu.bmcx.com/) |
| mail           | QQ邮箱，打卡结果推送，可以在微信启用QQ邮箱提醒，实现qq/微信都可收到通知|
| proxy          | ip代理，将自己购买的ip代理链接填写在此，不需要ip代理的留空即可|



</br>

登录百度云后台创建云函数，模块选空白

![](https://file.uhsea.com/2301/c31d59dd65e759edd802e3a300bb2f4fDX.png)

运行时选择python3.6

![](https://file.uhsea.com/2301/a43eca4387f564982a9e9a278c94aaf5CI.png)

配置定时触发器，表达式[参考这里](#修改自动打卡时间)

函数基本信息里可以添加多个触发器，上班下班需要分别配置

进入代码编辑，选择上传函数zip包，然后把代码打包上传即可


## 修改自动打卡时间

修改自动打卡时间需要了解Cron表达式的使用，




</br>
1.编辑表达式

GitHub的cron表达式不支持精准到秒，所以从最左边开始，分别为：

分钟 小时 日 月份 星期

而且Github的服务器时间会比我们晚八个小时，所以在你需要打卡的时间-8配置到里面就行了

</br>

例如说在每天上午十点打上班卡就是:

```yml
- cron: "00 02 * * *"
```


周一到周五晚上九点打下班卡：

```yml
- cron: "00 13 * * 1-5"
```


</br>
</br>

## 常见问题


### 打卡失败 

无论打卡是否成功都会邮件通知，无需担心错过打卡


### 增加打卡检查运行次数
从1.0版本开始，每日打卡检查从每日运行4次调整为每日2次并默认关闭，具体原因请查看更新日志，如需要调整每日打卡检查运行次数，可先学习修改自动打卡这一小节的基础知识后再来。
默认情况下的sign.yml时间配置如下：
```yml
- cron: "00 23 * * *" # 上班卡
- cron: "15 03 * * *" # 每日签到检查，如不需要可删除这行，其含义为每日11点15运行（存在延时）
- cron: "00 10 * * *" # 下班卡
- cron: "15 15 * * *" # 每日签到检查，如不需要可删除这行，其含义为每日23点15运行（存在延时）
```
**打卡检查仅限在每日11点以及23点运行，其他时间运行会造成多打卡情况出现**，所以如果你需要增加自动打卡的次数就复制第二行或第四行，然后修改具体的时间即可，但请注意分钟必须限制在0-25之间（因action运行20分钟左右的延时，防止action启动后已过11/23点），例如说我想要增加两次打卡检查，则可这样写：
```yml
- cron: "00 23 * * *" # 上班卡
- cron: "15 03 * * *" # 每日签到检查，如不需要可删除这行，其含义为每日11点15运行（存在延时）
- cron: "05 03 * * *" # 每日签到检查，如不需要可删除这行，其含义为每日11点5运行（存在延时）
- cron: "00 10 * * *" # 下班卡
- cron: "15 15 * * *" # 每日签到检查，如不需要可删除这行，其含义为每日23点15运行（存在延时）
- cron: "05 15 * * *" # 每日签到检查，如不需要可删除这行，其含义为每日23点5运行（存在延时）
```

### 上班及下班卡判断逻辑
每日12点以前运行全部为上班，12点及以后默认为下班卡。
</br>

